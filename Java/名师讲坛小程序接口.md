---
title: 名师讲坛小程序接口
grammar_cjkRuby: true
grammar_code: true
---

# 名师讲坛小程序接口

说明:
1. 接口访问需要传入enc验证,验证通过访问数据
2. enc加密规则:`MD5([sign][秘钥])`,使用中括号`[]`分割值
3. 每个接口sign不同,会在接口中说明;秘钥 Y7chE6j&jd#g*GMdjM
4. **pro1**测试环境,测试通过后会部署代码到正式,访问地址改为**pro**


## 1. 获取分类信息

>请求方式: GET
>
>请求URL: https://pro1.superlib.com/wx/lecture/info/list
>
>接口秘钥: sign=classify_info

参数

|   字段  |   字段类型  |   字段说明  |   是否必传  |
| --- | --- | --- | --- |
|   classifyIds  |   string  |  分类id,可以传多个   |   √  |
|   enc  |  string   |   md5加密字符串  |  √   |


返回结果

``` 
成功:
----
{
    "data": {
        "16": {
            "classifyId": "16",
            "classifyName": "30分钟讲座",
            "list": [
                {
                    "cid": 2,
                    "classifyId": "1601",
                    "classifyName": "哲学智慧",
                    "inserttime": 1527490105000,
                    "pClassifyId": "16",
                    "slevel": 2,
                    "updatetime": 1527490105000,
                    "vsubtype": 1001
                }
            ]
        }
    },
    "success": true
}

失败:
----
{
    "msg": "验证失败",
    "success": false
}
```

返回参数

|   字段  |  字段类型   |  字段说明   |
| --- | --- | --- |
|  classifyId   |  string   |   分类id  |
|  classifyName  |   string  |  分类名称   |
|  pClassifyId  |  string   |  父分类id   |
|  slevel  |  int   |  层级   |


测试地址:

>https://pro1.superlib.com/wx/lecture/info/list?classifyIds=16&classifyIds=17&enc=aa84ec6242778afedec91c5f25acfb2a


## 2. 获取分类视频列表

>请求方式: GET
>
>请求URL: https://pro1.superlib.com/wx/lecture/list
>
>接口秘钥: sign=lecture_list


参数

|   字段  |   字段类型  |   字段说明  |   是否必传  |
| --- | --- | --- | --- |
|   classifyId  |   string  |  分类id   |   √  |
|   mtype  |   string  |  类别: daily 30分钟讲座; capsule 知识胶囊  |  √  |
|   orderType  |   int  |  排序类型: 0 热播; 1 最新  |     |
|   cpage  |   int  |  分页,默认每次加载10条  |     |
|   enc  |  string   |   md5加密字符串  |  √   |


返回结果

``` 
成功:
----
{
    "data": {
        "totalRow": 519,
        "seriesVideoList": [
            {
                "rsname": "《呼啸山庄》——爱情与婚姻的困境",
                "runtime": "33'13''",
                "sid": 3000003746,
                "teachers": [
                    {
                        "tname": "谌洪果",
                        "tduty": "著名文化学者",
                        "tid": 13796
                    }
                ],
                "vcount": 0,
                "vid": 8079643,
                "videoCover": "https://svideo.chaoxing.com/template/dcx/images/series/3000003746.jpg"
            }
        ],
        "cpage": 1,
        "totalPage": 52
    },
    "success": true
}

失败:
----
{
    "msg": "验证失败",
    "success": false
}
```

返回参数

|   字段  |  字段类型   |  字段说明   |
| --- | --- | --- |
|  totalRow   |  int   |   总数  |
|  rsname  |   string  |  系列视频名   |
|  sid  |  int   |  系列id   |
|  vcount  |  int   |  播放量   |
|  vid   |  int   |   视频id  |
|  videoCover  |   string  |  视频封面图   |
|  tname  |  string   |  教师名字   |
|  tduty  |  int   |  教师职称   |


测试地址:

>https://pro1.superlib.com/wx/lecture/list?classifyId=16&orderType=1&cpage=1&mtype=daily&enc=9511ff5912665b519d84eac2acd6d56d


## 3. 播放页接口

>请求方式: GET
>
>请求URL: https://pro1.superlib.com/wx/lecture/video/play
>
>接口秘钥: sign=video_play


参数

|   字段  |   字段类型  |   字段说明  |   是否必传  |
| --- | --- | --- | --- |
|   sid  |   int  |  系列id   |   √  |
|   fid  |   string  |  单位id(暂定)  |    |
|   uid  |   int  |  用户id(暂定)  |     |
|   datetime  |   string  |  时间,格式 yyyyMMddHH |  √   |
|   enc  |  string   |   md5加密字符串  |  √   |

>**接口加密说明!!!接口加密说明!!!接口加密说明!!!**
>考虑后续接口扩展,对该接口加密升级,所有参数参与enc加密
>加密参数按照参数名自然顺序(a->b->c)加密
>本接口:**MD5([datetime][fid][sid][sign][uid])**

返回结果

``` 
成功: 跳转播放页
----

失败: 跳转错误页
----

```

测试地址:

>https://pro1.superlib.com/wx/lecture/video/play?sid=3000003746&fid=&uid=&datetime=2020022715&enc=60b2e36b69d87bdb6df18f43ac7d7405



## 4. 首页推荐

>请求方式: GET
>
>请求URL: https://pro1.superlib.com/wx/lecture/home
>
>接口秘钥: sign=home_recommend


参数

|   字段  |   字段类型  |   字段说明  |   是否必传  |
| --- | --- | --- | --- |
|   mtype  |   string  |  类别: daily 30分钟讲座; capsule 知识胶囊  |  √  |
|   num  |   int  |  数量  |  √  |
|   enc  |  string   |   md5加密字符串  |  √   |


返回结果

``` 
成功:
----
{
    "data": {
        "info": {
            "id": 2001,
            "inserttime": 1526871146000,
            "intro": "3分钟·做一个博学而有趣的人",
            "remarks": "知识胶囊",
            "typeName": "知识胶囊",
            "updatetime": 1537927961000
        },
        "list": [
            {
                "runtime": "5'27''",
                "sid": 3000004145,
                "teachers": [
                    {
                        "tname": "马大勇",
                        "tduty": "吉林大学教授",
                        "tid": 8786
                    }
                ],
                "vcount": 90,
                "vid": 8080076,
                "vname": "纳兰词赏析",
                "videoCover": "https://svideo.chaoxing.com/template/dcx/images/capsule/3000004145.jpg"
            }
        ]
    },
    "success": true
}

失败:
----
{
    "msg": "验证失败",
    "success": false
}

{
    "msg": "未查询到结果",
    "success": false
}
```

返回参数

|   字段  |  字段类型   |  字段说明   |
| --- | --- | --- |
|  typeName   |  string   |   分类名称  |
|  intro   |  string   |   简介  |
|  totalRow   |  int   |   总数  |
|  rsname  |   string  |  系列视频名   |
|  sid  |  int   |  系列id   |
|  vcount  |  int   |  播放量   |
|  vid   |  int   |   视频id  |
|  videoCover  |   string  |  视频封面图   |
|  runtime  |   string  |  视频时长   |
|  tname  |  string   |  教师名字   |
|  tduty  |  int   |  教师职称   |

测试地址:

>https://pro1.superlib.com/wx/lecture/home?mtype=capsule&num=5&enc=13740f0adadc7de2f1cde2bd5a06c1d4



## 5. 名师汇

>请求方式: GET
>
>请求URL: https://pro1.superlib.com/wx/lecture/teacher
>
>接口秘钥: sign=teacher_list


参数

|   字段  |   字段类型  |   字段说明  |   是否必传  |
| --- | --- | --- | --- |
|   cpage  |   int  |  分页,默认1每页6条 |    |
|   enc  |  string   |   md5加密字符串  |  √   |


返回结果

``` 
成功:
----
{
    "data": {
        "totalRow": 62,
        "cpage": 1,
        "totalPage": 11,
        "teacherInfo": {
            "inserttime": 1529577710000,
            "intro": "叶嘉莹，号迦陵，中国古典文学创作者、研究者，师从一代国学大师顾随。现任南开大学中华古典文化研究所所长，入选改革开放40周年最具影响力的外国专家名单。是当代为数不多能被世人雅称为“先生”的女学者。",
            "picUrl": "https://svideo.chaoxing.com/template/dcx/images/teacher/zjr275.jpg",
            "tduty": "南开大学教授",
            "tid": 275,
            "tname": "叶嘉莹",
            "updatetime": 1529577710000
        },
        "teacherList": [
            {
                "picUrl": "https://svideo.chaoxing.com/template/dcx/images/teacher/zjr409.jpg",
                "tid": 409,
                "tname": "杨振宁"
            }
        ]
    },
    "success": true
}

失败:
----
{
    "msg": "验证失败",
    "success": false
}
```

返回参数

|   字段  |  字段类型   |  字段说明   |
| --- | --- | --- |
|  totalRow   |  int   |   总数  |
|  totalPage   |  int   |   总页数  |
|  cpage   |  int   |   当前页  |
|  teacherInfo   |  object   |   置顶教师信息  |
|  intro   |  string   |   简介  |
|  tname  |  string   |  教师名字   |
|  tduty  |  int   |  教师职称   |
|  picUrl  |   string  |  教师头像   |


测试地址:

>https://pro1.superlib.com/wx/lecture/teacher?cpage=1&enc=1a0033e945175f834688b093b2ff3e6c



## 6. 视频检索

>请求方式: GET
>
>请求URL: https://pro1.superlib.com/wx/lecture/search
>
>接口秘钥: sign=search


参数

|   字段  |   字段类型  |   字段说明  |   是否必传  |
| --- | --- | --- | --- |
|   sw  |   string  |  检索词 |  √  |
|   pagesize  |  int   |   每页条数,**第1页传3**,第2页以后自定义  |  √   |
|   cpage  |   int  |  分页,默认1 |  √  |
|   enc  |  string   |   md5加密字符串  |  √   |

返回结果

``` 
成功:
----
{
    "data": {
        "dailyTotal": 9,
        "capsuleTotal": 2,
        "seriesResult": [
            {
                "cid": "null",
                "imgPath": "null",
                "intro": "黎族的文身，作为一种传统文化，是黎族母系氏族社会的产物，是原始宗教自然崇拜、祖先崇拜、图腾崇拜的艺术结晶。本系列介绍了海南岛黎族女性为什么延续数千年文身习俗。",
                "playCount": 1240,
                "releaseDate": "2010-04-20",
                "sid": "1505",
                "sname": "海南岛黎族女性为什么延续数千年<em>文</em>身习俗",
                "teachers": [
                    {
                        "tduty": "海南大学",
                        "tid": 1215,
                        "tname": "周伟民"
                    }
                ],
                "videoCover": "https://svideo.chaoxing.com/template/dcx/images/series/1505.jpg",
                "videoNum": "5",
                "vsubtype": "4"
            }
        ],
        "dailyResult": [
            {
                "cid": "null",
                "imgPath": "null",
                "intro": "人类从原始动物进化到可以用语言和文字交流的高级动物，其中文字起到了非常重要的作用。楔形文字由苏美尔人于西元前三十一世纪左右所创，是已知世界上最古老的文字。楔形文字对西亚许多民族语言文字的形成和发展产生了重要影响，它的起源与发展，记录了古代两河流域文明的历史变迁。",
                "playCount": 1871,
                "releaseDate": "2018-05-14",
                "sid": "3000003480",
                "sname": "最古老的文字——楔形文字 ",
                "teachers": [
                    {
                        "tduty": "北京大学教授",
                        "tid": 1424,
                        "tname": "拱玉书"
                    }
                ],
                "videoCover": "https://svideo.chaoxing.com/template/dcx/images/series/3000003480.jpg",
                "videoNum": "1",
                "vsubtype": "1001"
            }
        ],
        "seriesTotal": 11,
        "capsuleResult": [
            {
                "cid": "null",
                "imgPath": "null",
                "intro": "读一本书只要花很少的时间就能读完一个智者一生的追求。——赵丽宏\r\n如果你是一个爱书者，你就可以活无数次，你的人生可以无限的拓展。\r\n                                                  ——赵丽宏",
                "playCount": 310,
                "releaseDate": "2018-07-14",
                "sid": "3000003618",
                "sname": "赵丽宏：人活世上，最划算的是读书",
                "teachers": [
                    {
                        "tduty": "著名作家、诗人、散<em>文</em>家",
                        "tid": 16921808,
                        "tname": "赵丽宏"
                    }
                ],
                "videoCover": "https://svideo.chaoxing.com/template/dcx/images/series/3000003618.jpg",
                "videoNum": "1",
                "vsubtype": "2001"
            },
            {
                "cid": "null",
                "imgPath": "null",
                "intro": "赵丽宏当着邮递员的面迫不及待地拆开挂号信，果然是一本书。他打开扉页，上面写了两行字：“写自己最熟悉的，写自己感受最深的，赠丽宏同志——巴金”",
                "playCount": 952,
                "releaseDate": "2018-01-15",
                "sid": "3000003348",
                "sname": "赵丽宏：巴金来信！",
                "teachers": [
                    {
                        "tduty": "著名作家、诗人、散<em>文</em>家",
                        "tid": 16921808,
                        "tname": "赵丽宏"
                    }
                ],
                "videoCover": "https://svideo.chaoxing.com/template/dcx/images/series/3000003348.jpg",
                "videoNum": "1",
                "vsubtype": "2001"
            }
        ]
    },
    "success": true
}

失败:
----
{
    "msg": "验证失败",
    "success": false
}
```

返回参数

|   字段  |  字段类型   |  字段说明   |
| --- | --- | --- |
|  dailyTotal   |  int   |   30分钟总数  |
|  capsuleTotal   |  int   |   知识胶囊总数  |
|  seriesTotal   |  int   |   全部总数  |
|  dailyResult   |  object   |   30分钟列表  |
|  capsuleResult   |  object   |   知识胶囊列表  |
|  seriesResult   |  object   |   全部列表  |
|  sid  |  int   |  系列id   |
|  playCount  |  int   |  播放量   |
|  vid   |  int   |   视频id  |
|  videoCover  |   string  |  视频封面图   |
|  releaseDate  |   string  |  发布时间   |
|  intro  |   string  |  视频介绍   |
|  sname  |  string   |  视频标题   |
|  tname  |  string   |  教师名字   |
|  tduty  |  int   |  教师职称   |

测试地址:

>第一页
>
>https://pro1.superlib.com/wx/lecture/search?sw=文&cpage=1&pagesize=3&enc=a0b981c62b0d74419ac855f55019184d
>
>第二页
>https://pro1.superlib.com/wx/lecture/search?sw=文&cpage=2&pagesize=10&enc=a0b981c62b0d74419ac855f55019184d


